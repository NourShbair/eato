{% extends "base.html" %}
{% block content %}
<div class="container py-5">
  <h2 class="mb-4 section-title">Welcome {{ user.username }} ğŸ‘‹</h2>

  <!-- User Stats -->
  <div class="row mb-5">
    <div class="col-md-4">
      <div class="card card-foodie bg-light text-center p-4">
        <h5 class="text-success">Recipes Posted ğŸ‘©â€ğŸ³</h5>
        <p class="display-6">{{ user_recipe_count }}</p>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card card-foodie bg-light text-center p-4">
        <h5 class="text-info">Recipes Liked â¤ï¸</h5>
        <p class="display-6">{{ user_liked_count }}</p>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card card-foodie bg-light text-center p-4">
        <h5 class="text-warning">Recipes Saved â­</h5>
        <p class="display-6">{{ user_saved_count }}</p>
      </div>
    </div>
  </div>

  <!-- Meal Types -->
  <h3 class="section-title">Meal Types ğŸ½ï¸</h3>
  <div class="row mb-4">
    {% for type in meal_types %}
      <div class="col-6 col-md-3 mb-3">
        <a href="{% url 'meal_type_recipes' type.id %}" class="btn btn-foodie w-100">{{ type.name }}</a>
      </div>
    {% endfor %}
  </div>

  <!-- Cuisines -->
  <h3 class="section-title">Cuisines ğŸ²</h3>
  <div class="row mb-4">
    {% for cuisine in cuisines %}
      <div class="col-6 col-md-3 mb-3">
        <a href="{% url 'cuisine_recipes' cuisine.id %}" class="btn btn-foodie w-100">{{ cuisine.name }}</a>
      </div>
    {% endfor %}
  </div>

  <!-- Allergies -->
  <h3 class="section-title">Allergy-Friendly ğŸ¥›</h3>
  <div class="row mb-4">
    {% for allergy in allergies %}
      <div class="col-6 col-md-3 mb-3">
        <a href="{% url 'allergy_recipes' allergy.id %}" class="btn btn-foodie w-100">{{ allergy.name }}</a>
      </div>
    {% endfor %}
  </div>

  <!-- Recently Added Recipes -->
  <h3 class="section-title">Fresh Recipes ğŸ¥—</h3>
  <div class="row">
    {% for recipe in recent_recipes %}
      <div class="col-md-6 mb-4">
        <div class="card card-foodie p-3">
          <h5>{{ recipe.title }}</h5>
          <small class="text-muted">Added on {{ recipe.created_at|date:"M d, Y" }}</small>
        </div>
      </div>
    {% empty %}
      <p class="text-muted">No delicious recipes yet.</p>
    {% endfor %}
  </div>
</div>
{% endblock %}